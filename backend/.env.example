# Database Configuration
DATABASE_HOST=localhost
DATABASE_PORT=5432
DATABASE_NAME=aiq_dev
DATABASE_USER=mattgioe
DATABASE_PASSWORD=

# Database URL (for SQLAlchemy)
# Format: postgresql://user:password@host:port/database
DATABASE_URL=postgresql://mattgioe@localhost:5432/aiq_dev

# Test Database
TEST_DATABASE_URL=postgresql://mattgioe@localhost:5432/aiq_test

# Application Settings
ENV=development
DEBUG=True
LOG_LEVEL=INFO

# Security
# IMPORTANT: Generate secure random secrets for production!
# Use: python -c "import secrets; print(secrets.token_urlsafe(64))"
SECRET_KEY=dev-secret-key-change-in-production-use-random-64-char-string
JWT_SECRET_KEY=dev-jwt-secret-key-change-in-production-use-random-64-char-string
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# API Settings
API_V1_PREFIX=/v1
CORS_ORIGINS=http://localhost:3000,http://localhost:8080

# Apple Push Notification Service (APNs)
APNS_KEY_ID=
APNS_TEAM_ID=
APNS_BUNDLE_ID=
APNS_KEY_PATH=
APNS_USE_SANDBOX=True

# Rate Limiting
# Enabled by default. Set to False for local development if needed.
RATE_LIMIT_ENABLED=True
RATE_LIMIT_STRATEGY=token_bucket
RATE_LIMIT_DEFAULT_LIMIT=100
RATE_LIMIT_DEFAULT_WINDOW=60
# Storage backend: "memory" (single-worker) or "redis" (multi-worker deployments)
RATE_LIMIT_STORAGE=memory
# Redis connection URL - used when RATE_LIMIT_STORAGE=redis
# Production: Use rediss:// (TLS) with strong password (e.g., rediss://:password@host:6379/0)
RATE_LIMIT_REDIS_URL=redis://localhost:6379/0
# Maximum keys for in-memory storage (prevents memory exhaustion attacks)
# 0 = unlimited (not recommended for production)
# Recommended: 10000-100000 depending on traffic
RATE_LIMIT_MAX_KEYS=100000

# Token Blacklist (for JWT revocation on logout)
# Redis connection URL for token blacklist (optional, uses in-memory if not set)
# Leave empty for in-memory storage (single-worker deployments)
# Production: Use rediss:// (TLS) with strong password for multi-worker deployments
TOKEN_BLACKLIST_REDIS_URL=

# Admin Dashboard
# Set ADMIN_ENABLED=True to enable the admin dashboard
# IMPORTANT: Generate a secure password hash and token in production!
ADMIN_ENABLED=False
ADMIN_USERNAME=admin
# Generate password hash with: python -c "from passlib.hash import bcrypt; print(bcrypt.hash('your_password'))"
ADMIN_PASSWORD_HASH=$2b$12$example.hash.replace.with.actual.bcrypt.hash
ADMIN_TOKEN=change-this-admin-token-in-production

SENTRY_DSN=https://your-dsn@sentry.io/project-id

# OpenTelemetry Distributed Tracing
# Set OTEL_ENABLED=True to enable distributed tracing
OTEL_ENABLED=False
OTEL_SERVICE_NAME=aiq-backend
# Exporter type: "console" for development, "otlp" for production, "none" to disable
OTEL_EXPORTER=console
# OTLP gRPC endpoint (only used when OTEL_EXPORTER=otlp)
OTEL_OTLP_ENDPOINT=http://localhost:4317
# Trace sample rate (0.0-1.0)
# Development: 1.0 (100%) - trace everything
# Production: 0.1 (10%) or lower to control costs
OTEL_TRACES_SAMPLE_RATE=1.0
